<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1835px" preserveAspectRatio="none" style="width:1908px;height:1835px;background:#FEFEFE;" version="1.1" viewBox="0 0 1908 1835" width="1908px" zoomAndPan="magnify"><title>Market Sentinel Detection Flow (Read Side)</title><defs/><g><rect fill="#FEFEFE" height="1835" style="stroke:none;stroke-width:1;" width="1908" x="0" y="0"/><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="543.6836" x="680.7012" y="35.4209">Market Sentinel Detection Flow (Read Side)</text><g><title>MarketSentinelService</title><rect fill="#C8E6C9" height="1440.1016" style="stroke:#000000;stroke-width:1;" width="10" x="250.8901" y="188.1719"/></g><g><title>WatchlistQueryPort</title><rect fill="#C8E6C9" height="206.1953" style="stroke:#000000;stroke-width:1;" width="10" x="530.3306" y="340.9688"/></g><g><title>WatchlistQueryPort</title><rect fill="#C8E6C9" height="377.5234" style="stroke:#000000;stroke-width:1;" width="10" x="530.3306" y="979.4219"/></g><g><title>Query Adapter</title><rect fill="#C8E6C9" height="132.7969" style="stroke:#000000;stroke-width:1;" width="10" x="809.771" y="370.1016"/></g><g><title>Query Adapter</title><rect fill="#C8E6C9" height="304.125" style="stroke:#000000;stroke-width:1;" width="10" x="809.771" y="1008.5547"/></g><g><title>Database</title><rect fill="#C8E6C9" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="1021.9307" y="444.6328"/></g><g><title>Database</title><rect fill="#C8E6C9" height="124.7969" style="stroke:#000000;stroke-width:1;" width="10" x="1021.9307" y="1158.75"/></g><g><title>StockPriceProviderPort</title><rect fill="#FFE0B2" height="198.1953" style="stroke:#000000;stroke-width:1;" width="10" x="1165.127" y="619.4297"/></g><g><title>Price Adapter</title><rect fill="#FFE0B2" height="109.6641" style="stroke:#000000;stroke-width:1;" width="10" x="1364.1025" y="663.6953"/></g><g><title>NotificationPort</title><rect fill="#C8E6C9" height="174.9297" style="stroke:#000000;stroke-width:1;" width="10" x="1510.3203" y="1410.2109"/></g><g><title>Console Adapter</title><rect fill="#C8E6C9" height="116.6641" style="stroke:#000000;stroke-width:1;" width="10" x="1678.9258" y="1439.3438"/></g><rect fill="#FFFFFF" height="724.3828" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="1750.9424" x="140.1436" y="875.7578"/><rect fill="#FFFFFF" height="221.1953" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="1730.9424" x="150.1436" y="1371.9453"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Scheduler" id="part1-lifeline"><g><title>Scheduler</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="80.0718" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="84" x2="84" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Service" id="part2-lifeline"><g><title>MarketSentinelService</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="251.8901" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="255.1436" x2="255.1436" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="QueryPort" id="part3-lifeline"><g><title>WatchlistQueryPort</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="531.3306" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="534.4087" x2="534.4087" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="QueryAdapter" id="part4-lifeline"><g><title>Query Adapter</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="810.771" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="814.4565" x2="814.4565" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="DB" id="part5-lifeline"><g><title>Database</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="1022.9307" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1026.5303" x2="1026.5303" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="PricePort" id="part6-lifeline"><g><title>StockPriceProviderPort</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="1166.127" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1169.3311" x2="1169.3311" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="PriceAdapter" id="part7-lifeline"><g><title>Price Adapter</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="1365.1025" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1368.1758" x2="1368.1758" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="NotifPort" id="part8-lifeline"><g><title>NotificationPort</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="1511.3203" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1515.0293" x2="1515.0293" y1="113.9063" y2="1757.0703"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="ConsoleAdapter" id="part9-lifeline"><g><title>Console Adapter</title><rect fill="#000000" fill-opacity="0.00000" height="1643.1641" width="8" x="1679.9258" y="113.9063"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1683.6113" x2="1683.6113" y1="113.9063" y2="1757.0703"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Scheduler" id="part1-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="112.1436" x="28" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.0889" x="49.0273" y="86.3076">Scheduler</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.1436" x="35" y="102.6045">(@Scheduled)</text></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Scheduler" id="part1-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="112.1436" x="28" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70.0889" x="49.0273" y="1776.0654">Scheduler</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="98.1436" x="35" y="1792.3623">(@Scheduled)</text></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Service" id="part2-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="171.4932" x="170.1436" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="157.4932" x="177.1436" y="86.3076">MarketSentinelService</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.3389" x="183.2207" y="102.6045">(Application Service)</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Service" id="part2-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="171.4932" x="170.1436" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="157.4932" x="177.1436" y="1776.0654">MarketSentinelService</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.3389" x="183.2207" y="1792.3623">(Application Service)</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="QueryPort" id="part3-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="149.8438" x="460.4087" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="135.8438" x="467.4087" y="86.3076">WatchlistQueryPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="489.2017" y="102.6045">(Output Port)</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="QueryPort" id="part3-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="149.8438" x="460.4087" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="135.8438" x="467.4087" y="1776.0654">WatchlistQueryPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="489.2017" y="1792.3623">(Output Port)</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="QueryAdapter" id="part4-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="154.6289" x="737.4565" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="102.7852" x="763.3784" y="86.3076">Query Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.6289" x="744.4565" y="102.6045">(Outbound Adapter)</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="QueryAdapter" id="part4-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="154.6289" x="737.4565" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="102.7852" x="763.3784" y="1776.0654">Query Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.6289" x="744.4565" y="1792.3623">(Outbound Adapter)</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="DB" id="part5-head"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="990.5303" y="110.6045">Database</text><path d="M1008.9307,61.6094 C1008.9307,51.6094 1026.9307,51.6094 1026.9307,51.6094 C1026.9307,51.6094 1044.9307,51.6094 1044.9307,61.6094 L1044.9307,87.6094 C1044.9307,97.6094 1026.9307,97.6094 1026.9307,97.6094 C1026.9307,97.6094 1008.9307,97.6094 1008.9307,87.6094 L1008.9307,61.6094" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><path d="M1008.9307,61.6094 C1008.9307,71.6094 1026.9307,71.6094 1026.9307,71.6094 C1026.9307,71.6094 1044.9307,71.6094 1044.9307,61.6094" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="DB" id="part5-tail"><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.8008" x="990.5303" y="1769.0654">Database</text><path d="M1008.9307,1782.3672 C1008.9307,1772.3672 1026.9307,1772.3672 1026.9307,1772.3672 C1026.9307,1772.3672 1044.9307,1772.3672 1044.9307,1782.3672 L1044.9307,1808.3672 C1044.9307,1818.3672 1026.9307,1818.3672 1026.9307,1818.3672 C1026.9307,1818.3672 1008.9307,1818.3672 1008.9307,1808.3672 L1008.9307,1782.3672" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><path d="M1008.9307,1782.3672 C1008.9307,1792.3672 1026.9307,1792.3672 1026.9307,1792.3672 C1026.9307,1792.3672 1044.9307,1792.3672 1044.9307,1782.3672" fill="none" style="stroke:#000000;stroke-width:1;"/></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="PricePort" id="part6-head"><rect fill="#FFE0B2" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="173.5918" x="1083.3311" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="159.5918" x="1090.3311" y="86.3076">StockPriceProviderPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="1123.998" y="102.6045">(Output Port)</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="PricePort" id="part6-tail"><rect fill="#FFE0B2" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="173.5918" x="1083.3311" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="159.5918" x="1090.3311" y="1776.0654">StockPriceProviderPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="1123.998" y="1792.3623">(Output Port)</text></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="PriceAdapter" id="part7-head"><rect fill="#FFE0B2" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="109.8535" x="1314.1758" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.6367" x="1321.7842" y="86.3076">Price Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="95.8535" x="1321.1758" y="102.6045">(External API)</text></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="PriceAdapter" id="part7-tail"><rect fill="#FFE0B2" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="109.8535" x="1314.1758" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.6367" x="1321.7842" y="1776.0654">Price Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="95.8535" x="1321.1758" y="1792.3623">(External API)</text></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="NotifPort" id="part8-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="122.582" x="1454.0293" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.582" x="1461.0293" y="86.3076">NotificationPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="1469.1914" y="102.6045">(Output Port)</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="NotifPort" id="part8-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="122.582" x="1454.0293" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.582" x="1461.0293" y="1776.0654">NotificationPort</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="92.2578" x="1469.1914" y="1792.3623">(Output Port)</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="ConsoleAdapter" id="part9-head"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="154.6289" x="1606.6113" y="66.3125"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115.8145" x="1626.0186" y="86.3076">Console Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.6289" x="1613.6113" y="102.6045">(Outbound Adapter)</text></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="ConsoleAdapter" id="part9-tail"><rect fill="#E8F5E9" height="46.5938" rx="5" ry="5" style="stroke:#388E3C;stroke-width:1;" width="154.6289" x="1606.6113" y="1756.0703"/><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115.8145" x="1626.0186" y="1776.0654">Console Adapter</text><text fill="#1B5E20" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="140.6289" x="1613.6113" y="1792.3623">(Outbound Adapter)</text></g><g><title>MarketSentinelService</title><rect fill="#C8E6C9" height="1440.1016" style="stroke:#000000;stroke-width:1;" width="10" x="250.8901" y="188.1719"/></g><g><title>WatchlistQueryPort</title><rect fill="#C8E6C9" height="206.1953" style="stroke:#000000;stroke-width:1;" width="10" x="530.3306" y="340.9688"/></g><g><title>WatchlistQueryPort</title><rect fill="#C8E6C9" height="377.5234" style="stroke:#000000;stroke-width:1;" width="10" x="530.3306" y="979.4219"/></g><g><title>Query Adapter</title><rect fill="#C8E6C9" height="132.7969" style="stroke:#000000;stroke-width:1;" width="10" x="809.771" y="370.1016"/></g><g><title>Query Adapter</title><rect fill="#C8E6C9" height="304.125" style="stroke:#000000;stroke-width:1;" width="10" x="809.771" y="1008.5547"/></g><g><title>Database</title><rect fill="#C8E6C9" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="1021.9307" y="444.6328"/></g><g><title>Database</title><rect fill="#C8E6C9" height="124.7969" style="stroke:#000000;stroke-width:1;" width="10" x="1021.9307" y="1158.75"/></g><g><title>StockPriceProviderPort</title><rect fill="#FFE0B2" height="198.1953" style="stroke:#000000;stroke-width:1;" width="10" x="1165.127" y="619.4297"/></g><g><title>Price Adapter</title><rect fill="#FFE0B2" height="109.6641" style="stroke:#000000;stroke-width:1;" width="10" x="1364.1025" y="663.6953"/></g><g><title>NotificationPort</title><rect fill="#C8E6C9" height="174.9297" style="stroke:#000000;stroke-width:1;" width="10" x="1510.3203" y="1410.2109"/></g><g><title>Console Adapter</title><rect fill="#C8E6C9" height="116.6641" style="stroke:#000000;stroke-width:1;" width="10" x="1678.9258" y="1439.3438"/></g><rect fill="#FFFFFF" height="3" rx="5" ry="5" style="stroke:#FFFFFF;stroke-width:1;" width="1896.0859" x="5" y="144.4727"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="144.4727" y2="144.4727"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="147.4727" y2="147.4727"/><rect fill="#FFFFFF" height="23.1328" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="214.0527" x="846.0166" y="133.9063"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195.5269" x="852.0166" y="149.9731">Scheduled Detection Cycle</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#000000" points="238.8901,184.1719,248.8901,188.1719,238.8901,192.1719,242.8901,188.1719" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="84.0718" x2="244.8901" y1="188.1719" y2="188.1719"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.2905" x="91.0718" y="183.106">detectBuySignals()</text></g><path d="M265,206.1719 L265,266.1719 A5,5 0 0 0 270,271.1719 L437,271.1719 A5,5 0 0 0 442,266.1719 L442,211.1719 L432,201.1719 L270,201.1719 A5,5 0 0 0 265,206.1719" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><path d="M432,201.1719 L432,208.6719 A2.5,2.5 0 0 0 434.5,211.1719 L442,211.1719 L432,201.1719" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="78.5713" x="271" y="218.2388">Read Side:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="148.0083" x="271" y="233.3716">No aggregates loaded.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.8823" x="271" y="248.5044">Uses projection queries.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130.311" x="271" y="263.6372">Optimized for scale.</text><rect fill="#FFFFFF" height="3" rx="5" ry="5" style="stroke:#FFFFFF;stroke-width:1;" width="1896.0859" x="5" y="297.2695"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="297.2695" y2="297.2695"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="300.2695" y2="300.2695"/><rect fill="#FFFFFF" height="23.1328" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="237.0947" x="834.4956" y="286.7031"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="218.5688" x="840.4956" y="302.77">Step 1: Find DISTINCT Tickers</text><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#000000" points="518.3306,336.9688,528.3306,340.9688,518.3306,344.9688,522.3306,340.9688" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="260.8901" x2="524.3306" y1="340.9688" y2="340.9688"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="250.4404" x="267.8901" y="335.9028">findDistinctTickersInActiveWatchlists()</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg3"><polygon fill="#000000" points="797.771,366.1016,807.771,370.1016,797.771,374.1016,801.771,370.1016" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="540.3306" x2="803.771" y1="370.1016" y2="370.1016"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="250.4404" x="547.3306" y="365.0356">findDistinctTickersInActiveWatchlists()</text></g><g class="message" data-entity-1="part4" data-entity-2="part5" id="msg4"><polygon fill="#000000" points="1009.9307,440.6328,1019.9307,444.6328,1009.9307,448.6328,1013.9307,444.6328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="819.771" x2="1015.9307" y1="444.6328" y2="444.6328"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.9404" x="826.771" y="394.1685">SELECT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="875.7114" y="394.1685">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="60.6138" x="879.8438" y="394.1685">DISTINCT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="940.4575" y="394.1685">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.8579" x="944.5898" y="394.1685">e.ticker</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.959" x="826.771" y="409.3013">FROM</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="864.73" y="409.3013">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99.0488" x="868.8623" y="409.3013">watchlist_entry</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="967.9111" y="409.3013">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.998" x="972.0435" y="409.3013">e</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.625" x="826.771" y="424.4341">JOIN</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="854.396" y="424.4341">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="58.1763" x="858.5283" y="424.4341">watchlist</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="916.7046" y="424.4341">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.6323" x="920.8369" y="424.4341">w</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="931.4692" y="424.4341">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="19.957" x="935.6016" y="424.4341">ON</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="955.5586" y="424.4341">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.397" x="959.6909" y="424.4341">...</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.0898" x="826.771" y="439.5669">WHERE</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="874.8608" y="439.5669">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="54.2788" x="878.9932" y="439.5669">w.active</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="933.272" y="439.5669">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.8926" x="937.4043" y="439.5669">=</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="948.2969" y="439.5669">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="26.6792" x="952.4292" y="439.5669">true</text></g><g class="message" data-entity-1="part5" data-entity-2="part4" id="msg5"><polygon fill="#000000" points="830.771,469.7656,820.771,473.7656,830.771,477.7656,826.771,473.7656" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="824.771" x2="1025.9307" y1="473.7656" y2="473.7656"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="54.0313" x="836.771" y="468.6997">["AAPL",</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="890.8022" y="468.6997">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="63.9463" x="894.9346" y="468.6997">"GOOGL",</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="958.8809" y="468.6997">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.9175" x="963.0132" y="468.6997">"MSFT"]</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg6"><polygon fill="#000000" points="551.3306,498.8984,541.3306,502.8984,551.3306,506.8984,547.3306,502.8984" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="545.3306" x2="813.771" y1="502.8984" y2="502.8984"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.7036" x="557.3306" y="497.8325">Set&lt;Ticker&gt;</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg7"><polygon fill="#000000" points="271.8901,543.1641,261.8901,547.1641,271.8901,551.1641,267.8901,547.1641" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="265.8901" x2="534.3306" y1="547.1641" y2="547.1641"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.7036" x="277.8901" y="526.9653">Set&lt;Ticker&gt;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="360.5938" y="526.9653">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="45.2715" x="364.7261" y="526.9653">{AAPL,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="409.9976" y="526.9653">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.9873" x="414.1299" y="526.9653">GOOGL,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="43.1577" x="277.8901" y="542.0981">MSFT}</text></g><rect fill="#FFFFFF" height="3" rx="5" ry="5" style="stroke:#FFFFFF;stroke-width:1;" width="1896.0859" x="5" y="575.7305"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="575.7305" y2="575.7305"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="578.7305" y2="578.7305"/><rect fill="#FFFFFF" height="23.1328" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="288.9424" x="808.5718" y="565.1641"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="270.4165" x="814.5718" y="581.231">Step 2: Fetch Prices ONCE per Ticker</text><g class="message" data-entity-1="part2" data-entity-2="part6" id="msg8"><polygon fill="#000000" points="1153.127,615.4297,1163.127,619.4297,1153.127,623.4297,1157.127,619.4297" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="260.8901" x2="1159.127" y1="619.4297" y2="619.4297"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.8257" x="267.8901" y="614.3638">fetchStockPrice(Set&lt;Ticker&gt;)</text></g><g class="message" data-entity-1="part6" data-entity-2="part7" id="msg9"><polygon fill="#000000" points="1352.1025,659.6953,1362.1025,663.6953,1352.1025,667.6953,1356.1025,663.6953" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="1175.127" x2="1358.1025" y1="663.6953" y2="663.6953"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.3687" x="1182.127" y="643.4966">Batch</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1219.4956" y="643.4966">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="20.5664" x="1223.6279" y="643.4966">API</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1244.1943" y="643.4966">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="22.3374" x="1248.3267" y="643.4966">call</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1270.6641" y="643.4966">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="13.2983" x="1274.7964" y="643.4966">or</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="63.0894" x="1182.127" y="658.6294">individual</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1245.2163" y="658.6294">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.1104" x="1249.3486" y="658.6294">calls</text></g><path d="M1379,681.6953 L1379,741.6953 A5,5 0 0 0 1384,746.6953 L1582,746.6953 A5,5 0 0 0 1587,741.6953 L1587,686.6953 L1577,676.6953 L1384,676.6953 A5,5 0 0 0 1379,681.6953" fill="#FFE0B2" style="stroke:#388E3C;stroke-width:1;"/><path d="M1577,676.6953 L1577,684.1953 A2.5,2.5 0 0 0 1579.5,686.6953 L1587,686.6953 L1577,676.6953" fill="#FFE0B2" style="stroke:#388E3C;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125.0679" x="1385" y="693.7622">External System:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="184.5771" x="1385" y="708.895">Finnhub, AlphaVantage, etc.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.6167" x="1385" y="724.0278">Called ONCE per ticker,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="187.4336" x="1385" y="739.1606">not once per watchlist entry.</text><g class="message" data-entity-1="part7" data-entity-2="part6" id="msg10"><polygon fill="#000000" points="1186.127,769.3594,1176.127,773.3594,1186.127,777.3594,1182.127,773.3594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="1180.127" x2="1368.1025" y1="773.3594" y2="773.3594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="82.0308" x="1192.127" y="768.2935">Map&lt;Ticker,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1274.1577" y="768.2935">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="78.8125" x="1278.29" y="768.2935">StockPrice&gt;</text></g><g class="message" data-entity-1="part6" data-entity-2="part2" id="msg11"><polygon fill="#000000" points="271.8901,813.625,261.8901,817.625,271.8901,821.625,267.8901,817.625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="265.8901" x2="1169.127" y1="817.625" y2="817.625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="45.519" x="277.8901" y="797.4263">{AAPL:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="323.4092" y="797.4263">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.2163" x="327.5415" y="797.4263">$145,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="364.7578" y="797.4263">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52.2349" x="368.8901" y="797.4263">GOOGL:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="421.125" y="797.4263">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.2163" x="425.2573" y="797.4263">$125,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="39.2666" x="277.8901" y="812.5591">MSFT:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="317.1567" y="812.5591">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="41.355" x="321.2891" y="812.5591">$380}</text></g><rect fill="#FFFFFF" height="3" rx="5" ry="5" style="stroke:#FFFFFF;stroke-width:1;" width="1896.0859" x="5" y="846.1914"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="846.1914" y2="846.1914"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1901.0859" y1="849.1914" y2="849.1914"/><rect fill="#FFFFFF" height="23.1328" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="295.7153" x="805.1853" y="835.625"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="277.1895" x="811.1853" y="851.6919">Step 3 &amp; 4: Per-Ticker Detection Loop</text><path d="M145.1436,875.7578 L216.7676,875.7578 L216.7676,882.8906 L206.7676,892.8906 L140.1436,892.8906 L140.1436,880.7578 A5,5 0 0 1 145.1436,875.7578" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="724.3828" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="1750.9424" x="140.1436" y="875.7578"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="155.1436" y="888.8247">loop</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="199.042" x="231.7676" y="887.9683">[for each Ticker in Set&lt;Ticker&gt;]</text><path d="M169,902.8906 L169,932.8906 A5,5 0 0 0 174,937.8906 L337,937.8906 A5,5 0 0 0 342,932.8906 L342,907.8906 L332,897.8906 L174,897.8906 A5,5 0 0 0 169,902.8906" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><path d="M332,897.8906 L332,905.3906 A2.5,2.5 0 0 0 334.5,907.8906 L342,907.8906 L332,897.8906" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.1724" x="175" y="914.9575">Processing ticker: AAPL</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.4229" x="175" y="930.0903">Current price: $145</text><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg12"><polygon fill="#000000" points="518.3306,975.4219,528.3306,979.4219,518.3306,983.4219,522.3306,979.4219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="260.8901" x2="524.3306" y1="979.4219" y2="979.4219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.0239" x="267.8901" y="959.2231">findTriggeredEntries(AAPL,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="38.1558" x="267.8901" y="974.356">$145)</text></g><g class="message" data-entity-1="part3" data-entity-2="part4" id="msg13"><polygon fill="#000000" points="797.771,1004.5547,807.771,1008.5547,797.771,1012.5547,801.771,1008.5547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="540.3306" x2="803.771" y1="1008.5547" y2="1008.5547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="155.4922" x="547.3306" y="1003.4888">findTriggeredEntries(...)</text></g><g class="message" data-entity-1="part4" data-entity-2="part5" id="msg14"><polygon fill="#000000" points="1009.9307,1154.75,1019.9307,1158.75,1009.9307,1162.75,1013.9307,1158.75" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="819.771" x2="1015.9307" y1="1158.75" y2="1158.75"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.9404" x="826.771" y="1032.6216">SELECT</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="875.7114" y="1032.6216">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="87.6675" x="879.8438" y="1032.6216">owner_name,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="66.5933" x="826.771" y="1047.7544">list_name,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.8599" x="826.771" y="1062.8872">ticker,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="867.6309" y="1062.8872">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.3628" x="871.7632" y="1062.8872">threshold_price</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.959" x="826.771" y="1078.02">FROM</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="864.73" y="1078.02">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="99.0488" x="868.8623" y="1078.02">watchlist_entry</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="967.9111" y="1078.02">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="7.998" x="972.0435" y="1078.02">e</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.625" x="826.771" y="1093.1528">JOIN</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="854.396" y="1093.1528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="58.1763" x="858.5283" y="1093.1528">watchlist</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="916.7046" y="1093.1528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.6323" x="920.8369" y="1093.1528">w</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="931.4692" y="1093.1528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="19.957" x="935.6016" y="1093.1528">ON</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="955.5586" y="1093.1528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="12.397" x="959.6909" y="1093.1528">...</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.0898" x="826.771" y="1108.2856">WHERE</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="874.8608" y="1108.2856">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="54.2788" x="878.9932" y="1108.2856">w.active</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="933.272" y="1108.2856">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.8926" x="937.4043" y="1108.2856">=</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="948.2969" y="1108.2856">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="26.6792" x="952.4292" y="1108.2856">true</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="28.6279" x="826.771" y="1123.4185">AND</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="855.3989" y="1123.4185">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.8579" x="859.5313" y="1123.4185">e.ticker</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="908.3892" y="1123.4185">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="10.8926" x="912.5215" y="1123.4185">=</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="923.4141" y="1123.4185">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40.0156" x="927.5464" y="1123.4185">'AAPL'</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="28.6279" x="826.771" y="1138.5513">AND</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="855.3989" y="1138.5513">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="112.4932" x="859.5313" y="1138.5513">e.threshold_price</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="972.0244" y="1138.5513">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="21.7852" x="976.1567" y="1138.5513">&gt;=</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.813" x="826.771" y="1153.6841">145</text></g><path d="M1036,1176.75 L1036,1251.75 A5,5 0 0 0 1041,1256.75 L1203,1256.75 A5,5 0 0 0 1208,1251.75 L1208,1181.75 L1198,1171.75 L1041,1171.75 A5,5 0 0 0 1036,1176.75" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><path d="M1198,1171.75 L1198,1179.25 A2.5,2.5 0 0 0 1200.5,1181.75 L1208,1181.75 L1198,1171.75" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="151.0552" x="1042" y="1188.8169">Threshold per Entry:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="129.5049" x="1042" y="1203.9497">Database evaluates</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.5591" x="1042" y="1219.0825">condition row-by-row.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="143.2539" x="1042" y="1234.2153">Only triggered entries</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="86.0869" x="1042" y="1249.3481">are returned.</text><g class="message" data-entity-1="part5" data-entity-2="part4" id="msg15"><polygon fill="#000000" points="830.771,1279.5469,820.771,1283.5469,830.771,1287.5469,826.771,1283.5469" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="824.771" x2="1025.9307" y1="1283.5469" y2="1283.5469"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.8613" x="836.771" y="1278.481">TriggeredEntryView[]</text></g><g class="message" data-entity-1="part4" data-entity-2="part3" id="msg16"><polygon fill="#000000" points="551.3306,1308.6797,541.3306,1312.6797,551.3306,1316.6797,547.3306,1312.6797" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="545.3306" x2="813.771" y1="1312.6797" y2="1312.6797"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="173.2275" x="557.3306" y="1307.6138">List&lt;TriggeredEntryView&gt;</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg17"><polygon fill="#000000" points="271.8901,1352.9453,261.8901,1356.9453,271.8901,1360.9453,267.8901,1356.9453" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="265.8901" x2="534.3306" y1="1356.9453" y2="1356.9453"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="57.8906" x="277.8901" y="1336.7466">[{owner:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="335.7808" y="1336.7466">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="44.1353" x="339.9131" y="1336.7466">"john",</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="384.0483" y="1336.7466">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="23.4736" x="388.1807" y="1336.7466">list:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="411.6543" y="1336.7466">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="47.417" x="415.7866" y="1336.7466">"Tech",</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.8887" x="277.8901" y="1351.8794">threshold:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="343.7788" y="1351.8794">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="45.4873" x="347.9111" y="1351.8794">$150},</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="393.3984" y="1351.8794">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="17.4688" x="397.5308" y="1351.8794">...]</text></g><path d="M155.1436,1371.9453 L226.7676,1371.9453 L226.7676,1379.0781 L216.7676,1389.0781 L150.1436,1389.0781 L150.1436,1376.9453 A5,5 0 0 1 155.1436,1371.9453" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><rect fill="none" height="221.1953" rx="5" ry="5" style="stroke:#000000;stroke-width:1;" width="1730.9424" x="150.1436" y="1371.9453"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="165.1436" y="1385.0122">loop</text><text fill="#000000" font-family="Verdana" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="188.4878" x="241.7676" y="1384.1558">[for each TriggeredEntryView]</text><g class="message" data-entity-1="part2" data-entity-2="part8" id="msg18"><polygon fill="#000000" points="1498.3203,1406.2109,1508.3203,1410.2109,1498.3203,1414.2109,1502.3203,1410.2109" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="260.8901" x2="1504.3203" y1="1410.2109" y2="1410.2109"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176.8838" x="267.8901" y="1405.145">notifyBuySignal(BuySignal)</text></g><g class="message" data-entity-1="part8" data-entity-2="part9" id="msg19"><polygon fill="#000000" points="1666.9258,1435.3438,1676.9258,1439.3438,1666.9258,1443.3438,1670.9258,1439.3438" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;" x1="1520.3203" x2="1672.9258" y1="1439.3438" y2="1439.3438"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.4966" x="1527.3203" y="1434.2778">notifyBuySignal(...)</text></g><g class="message" data-entity-1="part9" data-entity-2="part9" id="msg20"><line style="stroke:#000000;stroke-width:2;" x1="1688.9258" x2="1730.9258" y1="1513.875" y2="1513.875"/><line style="stroke:#000000;stroke-width:2;" x1="1730.9258" x2="1730.9258" y1="1513.875" y2="1526.875"/><line style="stroke:#000000;stroke-width:2;" x1="1689.9258" x2="1730.9258" y1="1526.875" y2="1526.875"/><polygon fill="#000000" points="1699.9258,1522.875,1689.9258,1526.875,1699.9258,1530.875,1695.9258,1526.875" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="85.7568" x="1695.9258" y="1463.4106">log.info("BUY</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1781.6826" y="1463.4106">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52.3999" x="1785.8149" y="1463.4106">SIGNAL:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="28.0439" x="1695.9258" y="1478.5435">john</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1723.9697" y="1478.5435">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="43.0688" x="1728.1021" y="1478.5435">should</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1771.1709" y="1478.5435">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.1846" x="1775.3032" y="1478.5435">buy</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1799.4878" y="1478.5435">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="32.8682" x="1803.6201" y="1478.5435">AAPL</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="65.8887" x="1695.9258" y="1493.6763">threshold:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1761.8145" y="1493.6763">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="37.2163" x="1765.9468" y="1493.6763">$150,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.1323" x="1803.1631" y="1493.6763">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.7905" x="1807.2954" y="1493.6763">current:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="44.1353" x="1695.9258" y="1508.8091">$145")</text></g><g class="message" data-entity-1="part9" data-entity-2="part8" id="msg21"><polygon fill="#000000" points="1531.3203,1552.0078,1521.3203,1556.0078,1531.3203,1560.0078,1527.3203,1556.0078" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="1525.3203" x2="1682.9258" y1="1556.0078" y2="1556.0078"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5107" x="1537.3203" y="1550.9419">void</text></g><g class="message" data-entity-1="part8" data-entity-2="part2" id="msg22"><polygon fill="#000000" points="271.8901,1581.1406,261.8901,1585.1406,271.8901,1589.1406,267.8901,1585.1406" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="265.8901" x2="1514.3203" y1="1585.1406" y2="1585.1406"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5107" x="277.8901" y="1580.0747">void</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg23"><polygon fill="#000000" points="95.0718,1624.2734,85.0718,1628.2734,95.0718,1632.2734,91.0718,1628.2734" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:2;stroke-dasharray:2,2;" x1="89.0718" x2="254.8901" y1="1628.2734" y2="1628.2734"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="27.5107" x="101.0718" y="1623.2075">void</text></g><path d="M10,1646.2734 L10,1736.2734 A5,5 0 0 0 15,1741.2734 L1753,1741.2734 A5,5 0 0 0 1758,1736.2734 L1758,1651.2734 L1748,1641.2734 L15,1641.2734 A5,5 0 0 0 10,1646.2734" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><path d="M1748,1641.2734 L1748,1648.7734 A2.5,2.5 0 0 0 1750.5,1651.2734 L1758,1651.2734 L1748,1641.2734" fill="#C8E6C9" style="stroke:#388E3C;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193.3052" x="777.207" y="1658.3403">Read Side Characteristics:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="189.7378" x="777.207" y="1673.4731">&#10007; Does NOT load aggregates</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.7373" x="777.207" y="1688.606">&#10007; Does NOT modify state</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.7749" x="777.207" y="1703.7388">&#10003; Uses projection queries</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="194.0225" x="777.207" y="1718.8716">&#10003; Scales to millions of entries</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="204.8262" x="777.207" y="1734.0044">&#10003; Fetches each price only once</text><?plantuml-src hLTjRzis4FwkNt7pXjK97CD9cY4pcc1-aRCCYPtLRekXAGf5OcmsCgbHL5oloA_OXttfh-ilsP6YA4gsMs2O0zWIx_ZmUFVSG-OxkI1B0aaSKEP9AcC2ru5u81AcX4dAI0n38aaeAMSmYlaAcYz94C6KHcJFyz87of9014ku2yA7kU0PYmOyvWA-7_dgp_58oPyPOI7f2S5NimKD7nX9KpXoNFJya0j611ns7CCo-BX4vs1EKleNWQDEnrqRloKDQH8m2Pyym4-_7er_EZhnVyvjN4H4cF7ZqrF_UA37Hvn9CthOF_6FEjwJkmZZakn27vpwFmrseoEE6s9Z6Yv8bCL4tBBcByLBjDU080Lhip5NfkR5AMep9UAHXWHXUaaIqp3GPJAZ1Yz_sOxs9f3X8gQf_3qZOdt3XKIeIIQJJ89woo6iSJk8DaCl2XAfTuJpxrHkYY47n8nOd2YGmLsG4cWCpPFs7VQthpILF7ou4RYT6y4VaO5YLyYvamvvDF8x_QCga3Ox8ViVyPS5CVHkBXq06-usZ36NzDwaV5SOscTtvWQSfJmctyoTyQjdppixitI9d3OTh4C4FJlpl99C1-UM2Ls8j6i_Mq_f77UTDlUy0AS-1iXmonV3QK_pNj3vGWA_tp03xEzRGUZkx-F0c4CmdmioHxWKOXv496hZ-AiKNnF1FvWmKGq49QaoJH99bzZO4TnZswHX49EsHp0DQl5ydv8aSDY54SNHuULqTZaUp6268a94ck_LH8OxBGdRXNkSC4I6KnPAutx9UcgtnBA_aW27xMQFvKY1NLJYlyBRIheh58Eu23P05wR-bOzxj9ibRQaNk6MZbvDhM1Nmxr4Ci05H1NwRN8xBSLZ1P0pjTlkMlVdLV-d3ggsZG6g051afOrBzPYB1nuFDNRvjz7etLuqMD2ucamlzS3qTpHhll8WuABLzr2en9V95dg9pTvexnqrrXR7ENFYaOcc1ZgG5Aewd3Jm5KVBc27b3C2jvLwUObe4F2OQOGzRfKue7rbVDAtMdwGJY57LJRigH0h3CPbzLI4aD8D5Zu5XHP155GSjGWjHOMeEk2r6jARVwgCwqkZPTfv8iy_x45cABxAu5lJXP1AzHYV1ORG5kLBNY09V7FhGfoZdNGWkk2HpFRprSiaopp-tMIZG7jNnU1ud9NmlAj5O8uSvtyrWXX2P15tuuV7vYgA1UZavoGk3pyMddQGErIejZ-16UT-66Y0D3X593hpXFD2zYzQ1K2Q4M1M4egx1P7_ow9FmHhPiQgJvuP27tKihc9gTTK7imra4c16OIzH5dvllIbZAjwkqh6ZT3Dio9896FzK1PRUPTee3szDol29moVqlaDl1HMBO1rwNDOk-GDxx2ozvx5YoHWbhDzECjCxm3kH0aNV0uUgzJyt-9tothZOTMKd7mcShNCpjSNHNEpw2eo3RLLECb2MnVrZnKHyuAODr5AfVhl2lLfxW40NaCuamTdyOGSjG7pKkyEX_ShG_mfsri4nQlSKkcEheTgPqO20o7o0nlr56xIYWRytR9hzHx_PgIrTjtshsg-9lbhN7p2elnOXFil8vLEGPgXAnq_jjFcZ9TQ7pW2zR8MODlCn8k6WvVL1ETT9vQYWJljgwMgu6or9fy8rhFfBFIWUNbhgioIk_NzaRLj4zxTgPTsxaKLiW1ZWNXQvU-pJLi0rRGwtV5sX8ryxPrOZvlKtRFcut-gpzWUdanxbrrRvdADc1cC-JkNRRMueLjMart2y9So789Q-pjNBYMm4TE8-lh5AewRLkcAkJO1MFzlQ89F4z_sNeg67jRDa0EWF4p9sykyuLxQtVIdSin31RuVsI8TdLT3DEyxRzy_WU67EyauybCtvMTktFTlEGH4W1I6UZs_VBvxrrtQcETgejq2fB3aiOnsbEbIgL2A1zzCK8dpVnSxBXI57NIbuVwlm00?></g></svg>