<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="962px" preserveAspectRatio="none" style="width:1545px;height:962px;background:#FEFEFE;" version="1.1" viewBox="0 0 1545 962" width="1545px" zoomAndPan="magnify"><title>Approach A &#8212; Single-Pass In-Memory Aggregation (Current Implementation)</title><defs/><g><rect fill="#FEFEFE" height="962" style="stroke:none;stroke-width:1;" width="1545" x="0" y="0"/><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="952.7031" x="294.842" y="35.4209">Approach A &#8212; Single-Pass In-Memory Aggregation (Current Implementation)</text><g><title>PortfolioRestController</title><rect fill="#FFFFFF" height="783.8516" style="stroke:#000000;stroke-width:1;" width="10" x="101.1943" y="109.2031"/></g><g><title>ReportingService</title><rect fill="#FFFFFF" height="733.5859" style="stroke:#000000;stroke-width:1;" width="10" x="362.3218" y="130.3359"/></g><g><title>PortfolioPort</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="571.481" y="283.1328"/></g><g><title>TransactionPort</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="733.2505" y="426.6641"/></g><g><title>StockPriceProviderPort</title><rect fill="#FFFFFF" height="79.3984" style="stroke:#000000;stroke-width:1;" width="10" x="915.9312" y="528.0625"/></g><g><title>HoldingPerformanceCalculator</title><rect fill="#FFFFFF" height="139.9297" style="stroke:#000000;stroke-width:1;" width="10" x="1146.7642" y="694.8594"/></g><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="Controller" id="part1-lifeline"><g><title>PortfolioRestController</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="102.1943" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="106" x2="106" y1="99.2031" y2="911.0547"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="Service" id="part2-lifeline"><g><title>ReportingService</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="363.3218" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="366.6523" x2="366.6523" y1="99.2031" y2="911.0547"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="PortfolioPort" id="part3-lifeline"><g><title>PortfolioPort</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="572.481" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="575.5962" x2="575.5962" y1="99.2031" y2="911.0547"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="TransactionPort" id="part4-lifeline"><g><title>TransactionPort</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="734.2505" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="737.3657" x2="737.3657" y1="99.2031" y2="911.0547"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="PricePort" id="part5-lifeline"><g><title>StockPriceProviderPort</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="916.9312" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="920.1353" x2="920.1353" y1="99.2031" y2="911.0547"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="Calculator" id="part6-lifeline"><g><title>HoldingPerformanceCalculator</title><rect fill="#000000" fill-opacity="0.00000" height="811.8516" width="8" x="1147.7642" y="99.2031"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:5,5;" x1="1151.7271" x2="1151.7271" y1="99.2031" y2="911.0547"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="Controller" id="part1-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="172.3887" x="20" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="158.3887" x="27" y="71.6045">PortfolioRestController</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.5225" x="45.4331" y="87.9014">(Driving Adapter)</text></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="Controller" id="part1-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="172.3887" x="20" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="158.3887" x="27" y="930.0498">PortfolioRestController</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.5225" x="45.4331" y="946.3467">(Driving Adapter)</text></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="Service" id="part2-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="159.3389" x="287.6523" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.4287" x="307.1074" y="71.6045">ReportingService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.3389" x="294.6523" y="87.9014">(Application Service)</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="Service" id="part2-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="159.3389" x="287.6523" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="120.4287" x="307.1074" y="930.0498">ReportingService</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="145.3389" x="294.6523" y="946.3467">(Application Service)</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="PortfolioPort" id="part3-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.7695" x="510.5962" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.3447" x="533.3086" y="71.6045">PortfolioPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="517.5962" y="87.9014">(Secondary Port)</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="PortfolioPort" id="part3-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.7695" x="510.5962" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.3447" x="533.3086" y="930.0498">PortfolioPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="517.5962" y="946.3467">(Secondary Port)</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="TransactionPort" id="part4-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.7695" x="672.3657" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.4004" x="683.0503" y="71.6045">TransactionPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="679.3657" y="87.9014">(Secondary Port)</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="TransactionPort" id="part4-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="131.7695" x="672.3657" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="110.4004" x="683.0503" y="930.0498">TransactionPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="679.3657" y="946.3467">(Secondary Port)</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="PricePort" id="part5-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="173.5918" x="834.1353" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="159.5918" x="841.1353" y="71.6045">StockPriceProviderPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="862.0464" y="87.9014">(Secondary Port)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="PricePort" id="part5-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="173.5918" x="834.1353" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="159.5918" x="841.1353" y="930.0498">StockPriceProviderPort</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="117.7695" x="862.0464" y="946.3467">(Secondary Port)</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="Calculator" id="part6-head"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="228.0742" x="1037.7271" y="51.6094"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="214.0742" x="1044.7271" y="71.6045">HoldingPerformanceCalculator</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.4404" x="1091.0439" y="87.9014">(Domain Service)</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="Calculator" id="part6-tail"><rect fill="#FFFFFF" height="46.5938" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="228.0742" x="1037.7271" y="910.0547"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="214.0742" x="1044.7271" y="930.0498">HoldingPerformanceCalculator</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.4404" x="1091.0439" y="946.3467">(Domain Service)</text></g><g><title>PortfolioRestController</title><rect fill="#FFFFFF" height="783.8516" style="stroke:#000000;stroke-width:1;" width="10" x="101.1943" y="109.2031"/></g><g><title>ReportingService</title><rect fill="#FFFFFF" height="733.5859" style="stroke:#000000;stroke-width:1;" width="10" x="362.3218" y="130.3359"/></g><g><title>PortfolioPort</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="571.481" y="283.1328"/></g><g><title>TransactionPort</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#000000;stroke-width:1;" width="10" x="733.2505" y="426.6641"/></g><g><title>StockPriceProviderPort</title><rect fill="#FFFFFF" height="79.3984" style="stroke:#000000;stroke-width:1;" width="10" x="915.9312" y="528.0625"/></g><g><title>HoldingPerformanceCalculator</title><rect fill="#FFFFFF" height="139.9297" style="stroke:#000000;stroke-width:1;" width="10" x="1146.7642" y="694.8594"/></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#000000" points="350.3218,126.3359,360.3218,130.3359,350.3218,134.3359,354.3218,130.3359" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="111.1943" x2="356.3218" y1="130.3359" y2="130.3359"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="232.1274" x="118.1943" y="125.27">getHoldingsPerfomance(portfolioId)</text></g><path d="M377,143.3359 L377,213.3359 L626,213.3359 L626,153.3359 L616,143.3359 L377,143.3359" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M616,143.3359 L616,153.3359 L626,153.3359 L616,143.3359" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="228.0142" x="383" y="160.4028">Application layer orchestration</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="164.0234" x="383" y="175.5356">No business logic here &#8212;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.2163" x="383" y="190.6685">only coordination of ports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.8804" x="383" y="205.8013">and domain services.</text><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1533.3872" x="5" y="239.4336"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="239.4336" y2="239.4336"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="242.4336" y2="242.4336"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="152.5757" x="695.4058" y="228.8672"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134.0498" x="701.4058" y="244.9341">1. Load aggregate</text><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#000000" points="559.481,279.1328,569.481,283.1328,559.481,287.1328,563.481,283.1328" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="372.3218" x2="565.481" y1="283.1328" y2="283.1328"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="180.1592" x="379.3218" y="278.0669">getPortfolioById(PortfolioId)</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg3"><polygon fill="#000000" points="383.3218,308.2656,373.3218,312.2656,383.3218,316.2656,379.3218,312.2656" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="377.3218" x2="575.481" y1="312.2656" y2="312.2656"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="130.6919" x="389.3218" y="307.1997">Optional&lt;Portfolio&gt;</text></g><g class="message" data-entity-1="part2" data-entity-2="part2" id="msg4"><line style="stroke:#000000;stroke-width:1;" x1="372.3218" x2="414.3218" y1="341.3984" y2="341.3984"/><line style="stroke:#000000;stroke-width:1;" x1="414.3218" x2="414.3218" y1="341.3984" y2="354.3984"/><line style="stroke:#000000;stroke-width:1;" x1="373.3218" x2="414.3218" y1="354.3984" y2="354.3984"/><polygon fill="#000000" points="383.3218,350.3984,373.3218,354.3984,383.3218,358.3984,379.3218,354.3984" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="148.6367" x="379.3218" y="336.3325">portfolio.orElseThrow()</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1533.3872" x="5" y="382.9648"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="382.9648" y2="382.9648"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="385.9648" y2="385.9648"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="216.3188" x="663.5342" y="372.3984"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="197.793" x="669.5342" y="388.4653">2. Load full transaction list</text><g class="message" data-entity-1="part2" data-entity-2="part4" id="msg5"><polygon fill="#000000" points="721.2505,422.6641,731.2505,426.6641,721.2505,430.6641,725.2505,426.6641" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="372.3218" x2="727.2505" y1="426.6641" y2="426.6641"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="263.2119" x="379.3218" y="421.5981">getTransactionsByPortfolioId(PortfolioId)</text></g><g class="message" data-entity-1="part4" data-entity-2="part2" id="msg6"><polygon fill="#000000" points="383.3218,451.7969,373.3218,455.7969,383.3218,459.7969,379.3218,455.7969" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="377.3218" x2="737.2505" y1="455.7969" y2="455.7969"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="255.6836" x="389.3218" y="450.731">List&lt;Transaction&gt;  &#8592; all T transactions</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1533.3872" x="5" y="484.3633"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="484.3633" y2="484.3633"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="487.3633" y2="487.3633"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="406.5327" x="568.4272" y="473.7969"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="388.0068" x="574.4272" y="489.8638">3. Fetch live prices (sequential &#8212; free-tier rate limit)</text><g class="message" data-entity-1="part2" data-entity-2="part5" id="msg7"><polygon fill="#000000" points="903.9312,524.0625,913.9312,528.0625,903.9312,532.0625,907.9312,528.0625" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="372.3218" x2="909.9312" y1="528.0625" y2="528.0625"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="193.8257" x="379.3218" y="522.9966">fetchStockPrice(Set&lt;Ticker&gt;)</text></g><path d="M930,541.0625 L930,581.0625 L1189,581.0625 L1189,551.0625 L1179,541.0625 L930,541.0625" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1179,541.0625 L1179,551.0625 L1189,551.0625 L1179,541.0625" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="178.5977" x="936" y="558.1294">Iterates tickers one by one.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="238.0625" x="936" y="573.2622">Sequential to respect API rate limits.</text><g class="message" data-entity-1="part5" data-entity-2="part2" id="msg8"><polygon fill="#000000" points="383.3218,603.4609,373.3218,607.4609,383.3218,611.4609,379.3218,607.4609" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="377.3218" x2="919.9312" y1="607.4609" y2="607.4609"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="164.9756" x="389.3218" y="602.395">Map&lt;Ticker, StockPrice&gt;</text></g><rect fill="#FFFFFF" height="3" style="stroke:#FFFFFF;stroke-width:1;" width="1533.3872" x="5" y="636.0273"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="636.0273" y2="636.0273"/><line style="stroke:#000000;stroke-width:0.5;" x1="5" x2="1538.3872" y1="639.0273" y2="639.0273"/><rect fill="#FFFFFF" height="23.1328" style="stroke:#000000;stroke-width:1;" width="330.3862" x="606.5005" y="625.4609"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311.8604" x="612.5005" y="641.5278">4. Domain computation &#8212; O(T) single pass</text><g class="message" data-entity-1="part2" data-entity-2="part6" id="msg9"><polygon fill="#000000" points="1134.7642,690.8594,1144.7642,694.8594,1134.7642,698.8594,1138.7642,694.8594" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="372.3218" x2="1140.7642" y1="694.8594" y2="694.8594"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="165.9595" x="379.3218" y="674.6606">getHoldingsPerformance(</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="231.6069" x="387.5864" y="689.7935">portfolio, transactions, tickerPrices)</text></g><path d="M1161,707.8594 L1161,807.8594 L1533,807.8594 L1533,717.8594 L1523,707.8594 L1161,707.8594" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1523,707.8594 L1523,717.8594 L1533,717.8594 L1523,707.8594" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="267.2935" x="1167" y="724.9263">Single-pass loop over T transactions</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="263.4849" x="1167" y="740.0591">&#8226; HashMap&lt;Ticker, TickerAccumulator&gt;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="351.3872" x="1167" y="755.1919">&#8226; switch (tx.getType()) { PURCHASE &#8594; ..., SALE &#8594; ... }</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="271.2671" x="1167" y="770.3247">&#8226; No parallelStream, no repeated filtering</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="309.1563" x="1167" y="785.4575">&#8226; O(T) time, O(H) memory (H = distinct tickers)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="284.7178" x="1167" y="800.5903">&#8226; Returns List.copyOf(results) &#8212; immutable</text><g class="message" data-entity-1="part6" data-entity-2="part2" id="msg10"><polygon fill="#000000" points="383.3218,830.7891,373.3218,834.7891,383.3218,838.7891,379.3218,834.7891" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="377.3218" x2="1150.7642" y1="834.7891" y2="834.7891"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="210.9009" x="389.3218" y="829.7231">List&lt;HoldingDTO&gt;  (immutable)</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg11"><polygon fill="#000000" points="122.1943,859.9219,112.1943,863.9219,122.1943,867.9219,118.1943,863.9219" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="116.1943" x2="366.3218" y1="863.9219" y2="863.9219"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122.3892" x="128.1943" y="858.856">List&lt;HoldingDTO&gt;</text></g><g class="message" data-entity-1="part1" data-entity-2="part1" id="msg12"><polygon fill="#000000" points="1526.3872,889.0547,1536.3872,893.0547,1526.3872,897.0547,1530.3872,893.0547" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="106.1943" x2="1532.3872" y1="893.0547" y2="893.0547"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="98.6172" x="113.1943" y="887.9888">HTTP 200 JSON</text></g><?plantuml-src VLNDZjis4BxhAQRfHLhOGfhsj8WDECu6Th69ZRLxouLBZMrYAL8bAQT6K22ddeiWJz17soVfa98bofiDVB18piytttmS_kGEM29KaWcLs0UXAcPO2VUCF-oDhbKnrr8R-FdTZVybYHDE8iogocZ63p23no_VO2FKNk9upQo5fHg_nrAR4ypsUuDxveHMaCvhOr0vM9QLf8JAXVqiIIYV4rnKZ0vVhBLnEos5laFhvbevewL4yr6bRuquKXQO5QnoQB8Nm2pq5iCmTrXH83BVe3aAZkHFYANW3PXsjudHBfx1uJ_8UuDSgu9HKNwZSHpO3DstXYdBk4_sWm0NLiCG6wVvmzeGihNHHr6W-H6KOFSanaBBWaXOezbfKpB5SSuahoLpEb2gIshwa8tU84ayj2Dp6DFSVy9uUdQzXZswDfaDsKAoj3epj2ooFjgPy4HfMXcnFpZGksuRuEegRfPa9qgc3J-G94pOkxeYgmyQxcih59BcfDuB3WSqwEL8Xrh94t2j3K5gmb063yVI8LC554tjjabgymHfqmDAaia4VidXLhC2MAjWXCaaQG7wkWUj3zLtEszEoo9TVxVmeM06AnZ7RAug3vd9rvtDD2dmcJWHh2v0HtokpOsqk3qO_IdDGcslsjfsjPJWUWc25DPTr7cXq51fj6VVdA9AdwdwKkKNws7bjuJXTMGn1NZyvrzW17KRWxKn7vSPV9M_vl0E7GqeAOuqtVpzi91Q_BEcqIEO36DhPn37Jf2yZ8yZHIbSTjdgyzMwXfqFsDzBkec4LV07DDEuozrT7EgxtmTOqWGZMmikk5lIAyBzoV_bTBpfOJeD1cs5tC5ilOnmnfBjGW_9VC-g5jy8UjX3ANMWF6c_vT3E1AxBgcv6T61gbMupi67AG-Md_92aVcey7GNDu4a_AkXbEHhqSjJI4C3OYCfu60t9Z4xyl6ZVdu1CQbs1Fb9JXue9G-Fnot-mOFOGKzFyppYlooRaj3MqduHNKEh-ohtkJnMcMGQVOVt7tNmnszoGDBz2dkV4xkosMy7VhJiDAF-MqgoK6sUGbIFg5dMpGggDxf-Gf082tfe7YfqeSKIVYmpAvX5D5p21Wgw5KAI1LYzPwtE7hZRAXckJSrsTLhkKv59BPxFGDr6MrCPxYT5ywxdxpjrhM_TskwAhbtRkMIoQk2sT2BmAkhVXQR3O_ppfuxU4tAzXiTskuTNBb_3xPlLXaB6p_1y0?></g></svg>